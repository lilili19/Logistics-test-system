layui.define("layer",function(p){var k=layui.jquery,A=layui.layer,x=layui.hint(),h=layui.device(),j="form",b=".layui-form",B="layui-this",g="layui-hide",v="layui-disabled",z=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};z.prototype.set=function(c){var a=this;return k.extend(!0,a.config,c),a},z.prototype.verify=function(c){var a=this;return k.extend(!0,a.config.verify,c),a},z.prototype.on=function(c,a){return layui.onevent(j,c,a)},z.prototype.render=function(c){var a=this,d={select:function(){var o,F="请选择",C="layui-form-select",i="layui-select-title",E="layui-select-none",r="",l=k(b).find("select"),s=function(f,e){k(f.target).parent().hasClass(i)&&!e||(k("."+C).removeClass(C+"ed"),o&&r&&o.val(r)),o=null},D=function(N,e,J){var M=k(this),H=N.find("."+i),u=H.find("input"),y=N.find("dl"),G=y.children("dd");if(!e){var K=function(){N.addClass(C+"ed"),G.removeClass(g)},L=function(){N.removeClass(C+"ed"),u.blur(),I(u.val(),function(f){f&&(r=y.find("."+B).html(),u&&u.val(r))})};H.on("click",function(f){N.hasClass(C+"ed")?L():(s(f,!0),K()),y.find("."+E).remove()}),H.find(".layui-edge").on("click",function(){u.focus()}),u.on("keyup",function(t){var f=t.keyCode;9===f&&K()}).on("keydown",function(t){var f=t.keyCode;9===f?L():13===f&&t.preventDefault()});var I=function(Q,P,O){var R=0;layui.each(G,function(){var T=k(this),S=T.text(),U=S.indexOf(Q)===-1;(""===Q||"blur"===O?Q!==S:U)&&R++,"keyup"===O&&T[U?"addClass":"removeClass"](g)});var f=R===G.length;return P(f),f},n=function(P){var O=this.value,f=P.keyCode;return 9!==f&&13!==f&&37!==f&&38!==f&&39!==f&&40!==f&&(I(O,function(t){t?y.find("."+E)[0]||y.append('<p class="'+E+'">无匹配项</p>'):y.find("."+E).remove()},"keyup"),void (""===O&&y.find("."+E).remove()))};J&&u.on("keyup",n).on("blur",function(f){o=u,r=y.find("."+B).html(),setTimeout(function(){I(u.val(),function(t){t&&!r&&u.val("")},"blur")},200)}),G.on("click",function(){var t=k(this),f=t.attr("lay-value"),O=M.attr("lay-filter");return !t.hasClass(v)&&(M.val(f).removeClass("layui-form-danger"),u.val(t.text()),t.addClass(B).siblings().removeClass(B),layui.event.call(this,j,"select("+O+")",{elem:M[0],value:f,othis:N}),L(),!1)}),N.find("dl>dt").on("click",function(f){return !1}),k(document).off("click",s).on("click",s)}};l.each(function(J,G){var n=k(this),t=n.next("."+C),M=this.disabled,K=G.value,I=k(G.options[G.selectedIndex]);if("string"==typeof n.attr("lay-ignore")){return n.show()}var L="string"==typeof n.attr("lay-search"),H=k(['<div class="layui-unselect '+C+(M?" layui-select-disabled":"")+'">','<div class="'+i+'"><input type="text" placeholder="'+(G.options[0].innerHTML?G.options[0].innerHTML:F)+'" value="'+(K?I.html():"")+'" '+(L?"":"readonly")+' class="layui-input layui-unselect'+(M?" "+v:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(n.find("optgroup")[0]?" layui-select-group":"")+'">'+function(u){var f=[];return layui.each(u,function(N,y){(0!==N||y.value)&&("optgroup"===y.tagName.toLowerCase()?f.push("<dt>"+y.label+"</dt>"):f.push('<dd lay-value="'+y.value+'" class="'+(K===y.value?B:"")+(y.disabled?" "+v:"")+'">'+y.innerHTML+"</dd>"))}),f.join("")}(n.find("*"))+"</dl>","</div>"].join(""));t[0]&&t.remove(),n.after(H),D.call(this,H,M,L)})},checkbox:function(){var l={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},i=k(b).find("input[type=checkbox]"),f=function(r,o){var n=k(this);r.on("click",function(){var e=n.attr("lay-filter"),s=(n.attr("lay-text")||"").split("|");n[0].disabled||(n[0].checked?(n[0].checked=!1,r.removeClass(o[1]).find("em").text(s[1])):(n[0].checked=!0,r.addClass(o[1]).find("em").text(s[0])),layui.event.call(n[0],j,o[2]+"("+e+")",{elem:n[0],value:n[0].value,othis:r}))})};i.each(function(H,C){var D=k(this),e=D.attr("lay-skin"),I=(D.attr("lay-text")||"").split("|"),y=this.disabled;"switch"===e&&(e="_"+e);var G=l[e]||l.checkbox;if("string"==typeof D.attr("lay-ignore")){return D.show()}var F=D.next("."+G[0]),E=k(['<div class="layui-unselect '+G[0]+(C.checked?" "+G[1]:"")+(y?" layui-checkbox-disbaled "+v:"")+'" lay-skin="'+(e||"")+'">',{_switch:"<em>"+((C.checked?I[0]:I[1])||"")+"</em><i></i>"}[e]||(C.title.replace(/\s/g,"")?"<span>"+C.title+"</span>":"")+'<i class="layui-icon">'+(e?"&#xe605;":"&#xe618;")+"</i>","</div>"].join(""));F[0]&&F.remove(),D.after(E),f.call(this,E,G)})},radio:function(){var l="layui-form-radio",i=["&#xe643;","&#xe63f;"],f=k(b).find("input[type=radio]"),o=function(e){var t=k(this),r="layui-anim-scaleSpring";e.on("click",function(){var y=t[0].name,C=t.parents(b),n=t.attr("lay-filter"),s=C.find("input[name="+y.replace(/(\.|#|\[|\])/g,"\\$1")+"]");t[0].disabled||(layui.each(s,function(){var u=k(this).next("."+l);this.checked=!1,u.removeClass(l+"ed"),u.find(".layui-icon").removeClass(r).html(i[1])}),t[0].checked=!0,e.addClass(l+"ed"),e.find(".layui-icon").addClass(r).html(i[0]),layui.event.call(t[0],j,"radio("+n+")",{elem:t[0],value:t[0].value,othis:e}))})};f.each(function(n,e){var C=k(this),y=C.next("."+l),D=this.disabled;if("string"==typeof C.attr("lay-ignore")){return C.show()}var t=k(['<div class="layui-unselect '+l+(e.checked?" "+l+"ed":"")+(D?" layui-radio-disbaled "+v:"")+'">','<i class="layui-anim layui-icon">'+i[e.checked?0:1]+"</i>","<span>"+(e.title||"未命名")+"</span>","</div>"].join(""));y[0]&&y.remove(),C.after(t),o.call(this,t)})}};return c?d[c]?d[c]():x.error("不支持的"+c+"表单渲染"):layui.each(d,function(l,f){f()}),a};var q=function(){var l=k(this),C=m.config.verify,F=null,f="layui-form-danger",r={},E=l.parents(b),n=E.find("*[lay-verify]"),t=l.parents("form")[0],D=E.find("input,select,textarea"),i=l.attr("lay-filter");return layui.each(n,function(y,a){var s=k(this),H=s.attr("lay-verify").split("|"),o="",G=s.val();if(s.removeClass(f),layui.each(H,function(u,d){var I="function"==typeof C[d];if(C[d]&&(I?o=C[d](G,a):!C[d][0].test(G))){return A.msg(o||C[d][1],{icon:5,shift:6}),h.android||h.ios||a.focus(),s.addClass(f),F=!0}}),F){return F}}),!F&&(layui.each(D,function(c,a){a.name&&(/^checkbox|radio$/.test(a.type)&&!a.checked||(r[a.name]=a.value))}),layui.event.call(this,j,"submit("+i+")",{elem:this,form:t,field:r}))},m=new z,w=k(document);m.render(),w.on("reset",b,function(){setTimeout(function(){m.render()},50)}),w.on("submit",b,q).on("click","*[lay-submit]",q),p(j,function(a){return m.set(a)})});